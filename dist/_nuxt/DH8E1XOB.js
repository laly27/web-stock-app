import{j,n as c,s as F,m as S,c as i,a as e,v as V,x as d,y as x,z as w,F as v,r as g,l as _,t as a,A,o as n,B as z}from"./DiblFvHu.js";const U={class:"space-y-6 mt-12"},B={class:"flex justify-between items-center"},E={class:"card p-6"},N={class:"flex flex-col md:flex-row gap-4"},L={class:"flex-1"},O=["value"],T={class:"card"},$={class:"overflow-x-auto"},D={class:"min-w-full divide-y divide-gray-200"},G={class:"bg-white divide-y divide-gray-200"},I={class:"px-6 py-4 whitespace-nowrap"},R={class:"font-medium text-gray-900"},X={class:"px-6 py-4 whitespace-nowrap"},Q={class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},H={class:"px-6 py-4 whitespace-nowrap text-gray-900"},J={class:"px-6 py-4 whitespace-nowrap"},K={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},W=["onClick"],Y=["onClick"],Z={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},ee={class:"bg-white rounded-lg p-6 w-full max-w-md m-4"},te={class:"text-lg font-semibold mb-4"},se=["value"],le={class:"flex justify-end space-x-3 pt-4"},oe={type:"submit",class:"btn-primary"},ne={__name:"produits",setup(ie){const r=j(),y=c(!1),u=c(!1),f=c(null),p=c(""),m=c(""),l=F({name:"",category:"",price:"",quantity:""}),h=S(()=>{let o=r.products;return p.value&&(o=o.filter(t=>t.name.toLowerCase().includes(p.value.toLowerCase()))),m.value&&(o=o.filter(t=>t.category===m.value)),o}),k=o=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(o),C=o=>{f.value=o,l.name=o.name,l.category=o.category,l.price=o.price,l.quantity=o.quantity,u.value=!0},P=o=>{confirm("Êtes-vous sûr de vouloir supprimer ce produit ?")&&r.deleteProduct(o)},q=()=>{u.value?r.updateProduct(f.value.id,{name:l.name,category:l.category,price:parseFloat(l.price),quantity:parseInt(l.quantity)}):r.addProduct(l),b()},b=()=>{y.value=!1,u.value=!1,f.value=null,Object.keys(l).forEach(o=>l[o]="")};return(o,t)=>(n(),i("div",U,[e("div",B,[t[7]||(t[7]=e("div",null,[e("h2",{class:"text-3xl font-bold text-gray-900 mb-2"},"Gestion des Produits"),e("p",{class:"text-gray-600"},"Gérez votre inventaire de produits")],-1)),e("button",{onClick:t[0]||(t[0]=s=>y.value=!0),class:"btn-primary"}," ➕ Ajouter un produit ")]),e("div",E,[e("div",N,[e("div",L,[d(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>p.value=s),type:"text",placeholder:"Rechercher un produit...",class:"input-field"},null,512),[[x,p.value]])]),e("div",null,[d(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>m.value=s),class:"input-field"},[t[8]||(t[8]=e("option",{value:""},"Toutes les catégories",-1)),(n(!0),i(v,null,g(_(r).categories,s=>(n(),i("option",{key:s,value:s},a(s),9,O))),128))],512),[[w,m.value]])])])]),e("div",T,[e("div",$,[e("table",D,[t[9]||(t[9]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Produit "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Catégorie "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Prix "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Stock "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",G,[(n(!0),i(v,null,g(h.value,s=>(n(),i("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",I,[e("div",R,a(s.name),1)]),e("td",X,[e("span",Q,a(s.category),1)]),e("td",H,a(k(s.price)),1),e("td",J,[e("span",{class:z(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",s.quantity<=5?"bg-red-100 text-red-800":"bg-green-100 text-green-800"])},a(s.quantity),3)]),e("td",K,[e("button",{onClick:M=>C(s),class:"text-blue-600 hover:text-blue-900"}," ✏️ Modifier ",8,W),e("button",{onClick:M=>P(s.id),class:"text-red-600 hover:text-red-900"}," 🗑️ Supprimer ",8,Y)])]))),128))])])])]),y.value||u.value?(n(),i("div",Z,[e("div",ee,[e("h3",te,a(u.value?"Modifier le produit":"Ajouter un produit"),1),e("form",{onSubmit:A(q,["prevent"]),class:"space-y-4"},[e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nom du produit",-1)),d(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>l.name=s),type:"text",required:"",class:"input-field",placeholder:"Ex: Pizza Margherita"},null,512),[[x,l.name]])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Catégorie",-1)),d(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>l.category=s),required:"",class:"input-field"},[t[11]||(t[11]=e("option",{value:""},"Sélectionner une catégorie",-1)),(n(!0),i(v,null,g(_(r).categories,s=>(n(),i("option",{key:s,value:s},a(s),9,se))),128))],512),[[w,l.category]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Prix unitaire (XOF)",-1)),d(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>l.price=s),type:"number",min:"0",step:"100",required:"",class:"input-field",placeholder:"2500"},null,512),[[x,l.price]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Quantité en stock",-1)),d(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>l.quantity=s),type:"number",min:"0",required:"",class:"input-field",placeholder:"10"},null,512),[[x,l.quantity]])]),e("div",le,[e("button",{type:"button",onClick:b,class:"btn-secondary"}," Annuler "),e("button",oe,a(u.value?"Modifier":"Ajouter"),1)])],32)])])):V("",!0)]))}};export{ne as default};
